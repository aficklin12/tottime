{% extends 'tottimeapp/base.html' %}
{% load static %} 
{% load custom_filters %}
{% load dict_extras %}
{% block title %}Daily Attendance{% endblock %}

{% block styles %}
<style>
  
</style>
{% endblock %}

{% block content %}
                <div class="mt-4">
                    <h1>Daily Attendance</h1>
                </div>
                <a href="{% url 'attendance_record' %}" class="btn btn-secondary" style="margin-left: 15px;">
                    Attendance Records
                </a>
<table>
    <thead>
        <tr>
            <th>Classroom</th>
            <th>Ratio</th>
            <th>Assigned Teachers</th>
        </tr>
    </thead>
    <tbody>
        {% for classroom in classroom_data %}
        <tr>
            <td>{{ classroom.name }}</td>
            <td>{{ classroom.ratio|default:"â€“" }}</td>
            <td>
                {% if classroom.teachers %}
                    {{ classroom.teachers|join:", " }}
                {% else %}
                    <em>No teachers assigned</em>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
         
{% for classroom in classroom_data %}
  <div>
    <h3>{{ classroom.name }}</h3>
    <p>Ratio: {{ classroom.ratio }}</p>
    <p>Teachers: {{ classroom.teachers|join:", " }}</p>
    <form method="get" action="{% url 'assign_teacher' classroom.id %}">
      <button type="submit">
        Add/Reassign Teacher
      </button>
    </form>
  </div>
{% endfor %}
{% endblock %}
{% block scripts %}

{% endblock %}